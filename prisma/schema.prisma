generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model admin {
  id       Int    @id @default(autoincrement())
  name     String @db.VarChar(255)
  email    String @unique(map: "email") @db.VarChar(255)
  password String @db.VarChar(50)
  cargo    String @db.VarChar(50)
}

model user {
  id        Int      @id @default(autoincrement())
  name      String   @db.VarChar(255)
  email     String   @unique(map: "email") @db.VarChar(255)
  password  String   @db.VarChar(50)
  cpf       BigInt
  BirthDate DateTime @db.Date
}

model movie {
  id             Int      @id @default(autoincrement())
  title          String   @unique @db.VarChar(255)
  duration       Int
  trailer        String   @db.VarChar(255)
  synopsis       String   @db.VarChar(999)
  director       String   @db.VarChar(255)
  releaseDate    DateTime @db.Date
  classification String   @db.Char(2)
  cast           String   @db.VarChar(999)
  gender         String   @db.VarChar(50)
  banner         String   @db.VarChar(9999)
}

model cinema {
  id      Int    @id @default(autoincrement())
  city    String @db.VarChar(255)
  address String @db.VarChar(255)
  uf      String @db.Char(2)
}

model room {
  id       Int    @id @default(autoincrement())
  name     String @db.Char(2)
  numSeats Int
  numPCD   Int
  idCinema Int    @unique
}

model session {
  id        Int      @id @default(autoincrement())
  startDate DateTime @db.DateTime(0)
  endHour   String   @db.VarChar(10)
  price     Decimal  @db.Decimal(5, 2)
  format    String   @db.Char(2)
  language  String   @db.VarChar(50)
  idRoom    Int      @unique
  idMovie   Int      @unique
}

model reserve {
  id        Int    @id @default(autoincrement())
  method    String @db.VarChar(50)
  idUser    Int    @unique
  idSession Int    @unique
}
